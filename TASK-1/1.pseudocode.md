# ATM PARA ÇEKME PSEUDOCODE
# Başla

DEĞİŞKENLER:
  hesap_bakiye <- 0          # Kullanıcının hesap bakiyesi (ör: 1500)
  günlük_limit_max <- 2000   # ATM/günlük çekim limiti (örnek değer)
  günlük_toplam_cekim <- 0   # O gün içinde kullanıcının çektiği toplam
  doğru_pin <- "1234"       # (örnek) gerçek PIN, sistemde saklı
  pin_hak <- 3              # maksimum PIN deneme hakkı
  işlem_devam <- Evet       # kullanıcı tekrar işlem yapmak isterse
  kullanici_id <- NULL

FONKSİYON: PIN_DOĞRULA()
  deneme_sayısı <- 0
  TEKRARLA (deneme_sayısı < pin_hak):
    yaz("Lütfen 4 haneli PINinizi girin:")
    girilen_pin <- oku()
    eğer (girilen_pin = doğru_pin) ise
      yaz("PIN doğrulandı.")
      dön True
    aksi halde
      deneme_sayısı <- deneme_sayısı + 1
      kalan <- pin_hak - deneme_sayısı
      eğer (kalan > 0) ise
        yaz("Hatalı PIN. Kalan hak: " + kalan)
      aksi halde
        yaz("PIN deneme haklarınız tükendi. Kart bloke ediliyor.")
  dön False

FONKSİYON: TUTAR_AL()
  TEKRARLA:
    yaz("Çekmek istediğiniz tutarı girin (TL cinsinden):")
    tutar_str <- oku()
    eğer (tutar_str geçerli sayı değilse) ise
      yaz("Geçersiz giriş. Lütfen yalnızca sayısal değer girin.")
      devam et
    tutar <- sayıya_dönüştür(tutar_str)
    eğer (tutar <= 0) ise
      yaz("Tutar sıfırdan büyük olmalıdır.")
      devam et
    eğer (tutar % 20 != 0) ise
      yaz("ATM sadece 20 TL'nin katları şeklinde ödeme yapar. Lütfen 20'nin katı bir tutar girin.")
      devam et
    dön tutar

FONKSİYON: GÜNLÜK_LIMIT_KONTROL(tutar)
  eğer (günlük_toplam_cekim + tutar > günlük_limit_max) ise
    yaz("Günlük limit aşılıyor. Kalan günlük limit: " + (günlük_limit_max - günlük_toplam_cekim) + " TL")
    dön False
  aksi halde
    dön True

FONKSİYON: BAKIYE_KONTROL(tutar)
  eğer (tutar > hesap_bakiye) ise
    yaz("Yetersiz bakiye. Mevcut bakiye: " + hesap_bakiye + " TL")
    dön False
  aksi halde
    dön True

FONKSİYON: İŞLEM_SONUÇLARI_GÖSTER(tutar)
  yaz("Lütfen paranızı alın: " + tutar + " TL")
  yaz("Güncel bakiye: " + hesap_bakiye + " TL")
  yaz("Bugün çekilen toplam: " + günlük_toplam_cekim + " TL")

ANA PROGRAM:
  yaz("----- ATM Sistemine Hoşgeldiniz -----")
  # (isteğe bağlı) kullanıcı kimliği sorulabilir
  yaz("Kartınızı takınız veya kullanıcı numaranızı giriniz:")
  kullanici_id <- oku()

  # PIN doğrulama
  eğer (PIN_DOĞRULA() = False) ise
    yaz("İşlem sonlandırılıyor.")
    git bitir

  # İşlem döngüsü - kullanıcı istediği kadar işlem yapabilsin
  TEKRARLA (işlem_devam = Evet):
    yaz("İşlem menüsü:")
    yaz("1 - Para çekme")
    yaz("2 - Bakiye sorgulama")
    yaz("3 - Günlük limit sorgulama")
    yaz("4 - Kart iade / Çıkış")
    yaz("Seçiminizi girin (1-4):")
    seçim <- oku()

    eğer (seçim = "1") ise    # Para çekme akışı
      tutar <- TUTAR_AL()

      # Günlük limit kontrolü
      eğer (GÜNLÜK_LIMIT_KONTROL(tutar) = False) ise
        yaz("Başka bir tutar denemek ister misiniz? (Evet/Hayır)")
        cevap <- oku()
        eğer (küçült(cevap) = "evet") ise
          devam et # aynı işlem menüsüne dön
        aksi halde
          işlem_devam <- Hayır
          devam et

      # Bakiye kontrolü
      eğer (BAKIYE_KONTROL(tutar) = False) ise
        yaz("Başka bir tutar denemek ister misiniz? (Evet/Hayır)")
        cevap <- oku()
        eğer (küçült(cevap) = "evet") ise
          devam et
        aksi halde
          işlem_devam <- Hayır
          devam et

      # Her şey uygunsa ödeme yap
      hesap_bakiye <- hesap_bakiye - tutar
      günlük_toplam_cekim <- günlük_toplam_cekim + tutar
      yaz("İşleminiz onaylandı. Lütfen paranızı alın.")
      İŞLEM_SONUÇLARI_GÖSTER(tutar)

      # İşlem tekrar ister mi?
      yaz("Başka işlem yapmak ister misiniz? (Evet/Hayır)")
      cevap <- oku()
      eğer (küçült(cevap) = "evet") ise
        işlem_devam <- Evet
      aksi halde
        işlem_devam <- Hayır

    aksi eğer (seçim = "2") ise   # Bakiye sorgulama
      yaz("Mevcut bakiyeniz: " + hesap_bakiye + " TL")
      yaz("Başka işlem yapmak ister misiniz? (Evet/Hayır)")
      cevap <- oku()
      eğer (küçült(cevap) = "evet") ise
        işlem_devam <- Evet
      aksi halde
        işlem_devam <- Hayır

    aksi eğer (seçim = "3") ise   # Günlük limit sorgulama
      yaz("Günlük limitiniz: " + günlük_limit_max + " TL")
      yaz("Bugün çekilen toplam: " + günlük_toplam_cekim + " TL")
      yaz("Kalan günlük limit: " + (günlük_limit_max - günlük_toplam_cekim) + " TL")
      yaz("Başka işlem yapmak ister misiniz? (Evet/Hayır)")
      cevap <- oku()
      eğer (küçült(cevap) = "evet") ise
        işlem_devam <- Evet
      aksi halde
        işlem_devam <- Hayır

    aksi eğer (seçim = "4") ise   # Çıkış/Kart iade
      yaz("Kartınızı aldığınızdan emin olun. Güle güle!")
      işlem_devam <- Hayır

    aksi
      yaz("Geçersiz seçim. Lütfen 1-4 arasında seçim yapın.")
      # Menüye geri dön (işlem_devam değişmiyor, döngü devam eder)

  DÖNGÜ_BİTİMİ

  yaz("Oturum kapatılıyor. Kart iade ediliyor.")
  # Gerekirse oturum temizleme: pin_hak sıfırla, oturum bilgilerini temizle
  yaz("----- İşlem sonlandı -----")

# Bitir
